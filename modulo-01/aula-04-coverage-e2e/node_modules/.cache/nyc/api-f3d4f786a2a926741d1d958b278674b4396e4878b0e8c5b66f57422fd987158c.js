function cov_1t0x637lkg(){var path="/home/hugolacerdar/Documents/javascript-expert/modulo-01/aula-04-coverage-e2e/api.js";var hash="75b05d33d9fcc04f8417dae7fc8ffef152df50fa";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/hugolacerdar/Documents/javascript-expert/modulo-01/aula-04-coverage-e2e/api.js",statementMap:{"0":{start:{line:1,column:13},end:{line:1,column:28}},"1":{start:{line:2,column:21},end:{line:2,column:65}},"2":{start:{line:3,column:15},end:{line:25,column:1}},"3":{start:{line:5,column:8},end:{line:5,column:41}},"4":{start:{line:6,column:8},end:{line:6,column:30}},"5":{start:{line:9,column:8},end:{line:9,column:44}},"6":{start:{line:10,column:8},end:{line:10,column:30}},"7":{start:{line:13,column:8},end:{line:21,column:9}},"8":{start:{line:14,column:25},end:{line:14,column:41}},"9":{start:{line:15,column:12},end:{line:20,column:13}},"10":{start:{line:17,column:20},end:{line:17,column:44}},"11":{start:{line:18,column:20},end:{line:18,column:56}},"12":{start:{line:19,column:20},end:{line:19,column:42}},"13":{start:{line:22,column:8},end:{line:22,column:49}},"14":{start:{line:23,column:8},end:{line:23,column:30}},"15":{start:{line:27,column:16},end:{line:37,column:1}},"16":{start:{line:28,column:28},end:{line:28,column:35}},"17":{start:{line:29,column:21},end:{line:29,column:53}},"18":{start:{line:31,column:19},end:{line:31,column:53}},"19":{start:{line:33,column:4},end:{line:35,column:6}},"20":{start:{line:36,column:4},end:{line:36,column:37}},"21":{start:{line:39,column:12},end:{line:40,column:73}},"22":{start:{line:40,column:36},end:{line:40,column:72}},"23":{start:{line:42,column:0},end:{line:42,column:21}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:4,column:13},end:{line:4,column:14}},loc:{start:{line:4,column:36},end:{line:7,column:5}},line:4},"1":{name:"(anonymous_1)",decl:{start:{line:8,column:20},end:{line:8,column:21}},loc:{start:{line:8,column:43},end:{line:11,column:5}},line:8},"2":{name:"(anonymous_2)",decl:{start:{line:12,column:19},end:{line:12,column:20}},loc:{start:{line:12,column:48},end:{line:24,column:5}},line:12},"3":{name:"(anonymous_3)",decl:{start:{line:27,column:16},end:{line:27,column:17}},loc:{start:{line:27,column:44},end:{line:37,column:1}},line:27},"4":{name:"(anonymous_4)",decl:{start:{line:40,column:30},end:{line:40,column:31}},loc:{start:{line:40,column:36},end:{line:40,column:72}},line:40}},branchMap:{"0":{loc:{start:{line:15,column:12},end:{line:20,column:13}},type:"if",locations:[{start:{line:15,column:12},end:{line:20,column:13}},{start:{line:15,column:12},end:{line:20,column:13}}],line:15},"1":{loc:{start:{line:31,column:19},end:{line:31,column:53}},type:"binary-expr",locations:[{start:{line:31,column:19},end:{line:31,column:35}},{start:{line:31,column:39},end:{line:31,column:53}}],line:31}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{"0":[0,0],"1":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"75b05d33d9fcc04f8417dae7fc8ffef152df50fa"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_1t0x637lkg=function(){return actualCoverage;};}return actualCoverage;}cov_1t0x637lkg();const http=(cov_1t0x637lkg().s[0]++,require('http'));const DEFAULT_USER=(cov_1t0x637lkg().s[1]++,{username:'HugoLacerda',password:'123'});const routes=(cov_1t0x637lkg().s[2]++,{default:(request,response)=>{cov_1t0x637lkg().f[0]++;cov_1t0x637lkg().s[3]++;response.write('Hello World!\n');cov_1t0x637lkg().s[4]++;return response.end();},'/contact:get':(request,response)=>{cov_1t0x637lkg().f[1]++;cov_1t0x637lkg().s[5]++;response.write('Contact us page\n');cov_1t0x637lkg().s[6]++;return response.end();},'/login:post':async(request,response)=>{cov_1t0x637lkg().f[2]++;cov_1t0x637lkg().s[7]++;for await(const data of request){const user=(cov_1t0x637lkg().s[8]++,JSON.parse(data));cov_1t0x637lkg().s[9]++;if(user.username!==DEFAULT_USER.username|user.password!==DEFAULT_USER.password){cov_1t0x637lkg().b[0][0]++;cov_1t0x637lkg().s[10]++;response.writeHead(401);cov_1t0x637lkg().s[11]++;response.write('Logging failed!\n');cov_1t0x637lkg().s[12]++;return response.end();}else{cov_1t0x637lkg().b[0][1]++;}}cov_1t0x637lkg().s[13]++;response.write('Login has succeeded!\n');cov_1t0x637lkg().s[14]++;return response.end();}});cov_1t0x637lkg().s[15]++;const handler=function(request,response){cov_1t0x637lkg().f[3]++;const{url,method}=(cov_1t0x637lkg().s[16]++,request);const routeKey=(cov_1t0x637lkg().s[17]++,`${url}:${method.toLowerCase()}`);const chosen=(cov_1t0x637lkg().s[18]++,(cov_1t0x637lkg().b[1][0]++,routes[routeKey])||(cov_1t0x637lkg().b[1][1]++,routes.default));cov_1t0x637lkg().s[19]++;response.writeHead(200,{'Content-Type':'text/html'});cov_1t0x637lkg().s[20]++;return chosen(request,response);};const app=(cov_1t0x637lkg().s[21]++,http.createServer(handler).listen(3000,()=>{cov_1t0x637lkg().f[4]++;cov_1t0x637lkg().s[22]++;return console.log('App running at ',3000);}));cov_1t0x637lkg().s[23]++;module.exports=app;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwaS5qcyJdLCJuYW1lcyI6WyJodHRwIiwicmVxdWlyZSIsIkRFRkFVTFRfVVNFUiIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJyb3V0ZXMiLCJkZWZhdWx0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwid3JpdGUiLCJlbmQiLCJkYXRhIiwidXNlciIsIkpTT04iLCJwYXJzZSIsIndyaXRlSGVhZCIsImhhbmRsZXIiLCJ1cmwiLCJtZXRob2QiLCJyb3V0ZUtleSIsInRvTG93ZXJDYXNlIiwiY2hvc2VuIiwiYXBwIiwiY3JlYXRlU2VydmVyIiwibGlzdGVuIiwiY29uc29sZSIsImxvZyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiIrdkdBZVk7MkZBZlosS0FBTUEsQ0FBQUEsSUFBSSwwQkFBR0MsT0FBTyxDQUFDLE1BQUQsQ0FBVixDQUFWLENBQ0EsS0FBTUMsQ0FBQUEsWUFBWSwwQkFBRyxDQUFFQyxRQUFRLENBQUUsYUFBWixDQUEyQkMsUUFBUSxDQUFFLEtBQXJDLENBQUgsQ0FBbEIsQ0FDQSxLQUFNQyxDQUFBQSxNQUFNLDBCQUFHLENBQ1hDLE9BQU8sQ0FBRSxDQUFDQyxPQUFELENBQVVDLFFBQVYsR0FBdUIsaURBQzVCQSxRQUFRLENBQUNDLEtBQVQsQ0FBZSxnQkFBZixFQUQ0Qix3QkFFNUIsTUFBT0QsQ0FBQUEsUUFBUSxDQUFDRSxHQUFULEVBQVAsQ0FDSCxDQUpVLENBS1gsZUFBZ0IsQ0FBQ0gsT0FBRCxDQUFVQyxRQUFWLEdBQXVCLGlEQUNuQ0EsUUFBUSxDQUFDQyxLQUFULENBQWUsbUJBQWYsRUFEbUMsd0JBRW5DLE1BQU9ELENBQUFBLFFBQVEsQ0FBQ0UsR0FBVCxFQUFQLENBQ0gsQ0FSVSxDQVNYLGNBQWUsTUFBT0gsT0FBUCxDQUFnQkMsUUFBaEIsR0FBNkIsaURBQ3hDLFVBQVUsS0FBTUcsQ0FBQUEsSUFBaEIsR0FBd0JKLENBQUFBLE9BQXhCLENBQWlDLENBQzdCLEtBQU1LLENBQUFBLElBQUksMEJBQUdDLElBQUksQ0FBQ0MsS0FBTCxDQUFXSCxJQUFYLENBQUgsQ0FBVixDQUQ2Qix3QkFFN0IsR0FBR0MsSUFBSSxDQUFDVCxRQUFMLEdBQWtCRCxZQUFZLENBQUNDLFFBQS9CLENBQ0NTLElBQUksQ0FBQ1IsUUFBTCxHQUFrQkYsWUFBWSxDQUFDRSxRQURuQyxDQUM2QyxxREFDckNJLFFBQVEsQ0FBQ08sU0FBVCxDQUFtQixHQUFuQixFQURxQyx5QkFFckNQLFFBQVEsQ0FBQ0MsS0FBVCxDQUFlLG1CQUFmLEVBRnFDLHlCQUdyQyxNQUFPRCxDQUFBQSxRQUFRLENBQUNFLEdBQVQsRUFBUCxDQUNQLENBTEQsaUNBTUgsQ0FUdUMseUJBVXhDRixRQUFRLENBQUNDLEtBQVQsQ0FBZSx3QkFBZixFQVZ3Qyx5QkFXeEMsTUFBT0QsQ0FBQUEsUUFBUSxDQUFDRSxHQUFULEVBQVAsQ0FDSCxDQXJCVSxDQUFILENBQVosQyx5QkF3QkEsS0FBTU0sQ0FBQUEsT0FBTyxDQUFHLFNBQVNULE9BQVQsQ0FBa0JDLFFBQWxCLENBQTRCLHlCQUN4QyxLQUFNLENBQUVTLEdBQUYsQ0FBT0MsTUFBUCw0QkFBa0JYLE9BQWxCLENBQU4sQ0FDQSxLQUFNWSxDQUFBQSxRQUFRLDJCQUFJLEdBQUVGLEdBQUksSUFBR0MsTUFBTSxDQUFDRSxXQUFQLEVBQXFCLEVBQWxDLENBQWQsQ0FFQSxLQUFNQyxDQUFBQSxNQUFNLDJCQUFHLDRCQUFBaEIsTUFBTSxDQUFDYyxRQUFELENBQU4sK0JBQW9CZCxNQUFNLENBQUNDLE9BQTNCLENBQUgsQ0FBWixDQUp3Qyx5QkFNeENFLFFBQVEsQ0FBQ08sU0FBVCxDQUFtQixHQUFuQixDQUF3QixDQUNwQixlQUFnQixXQURJLENBQXhCLEVBTndDLHlCQVN4QyxNQUFPTSxDQUFBQSxNQUFNLENBQUNkLE9BQUQsQ0FBVUMsUUFBVixDQUFiLENBQ0gsQ0FWRCxDQVlBLEtBQU1jLENBQUFBLEdBQUcsMkJBQUd0QixJQUFJLENBQUN1QixZQUFMLENBQWtCUCxPQUFsQixFQUNLUSxNQURMLENBQ1ksSUFEWixDQUNrQixJQUFNLHdEQUFBQyxDQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxpQkFBWixDQUErQixJQUEvQixFQUFvQyxDQUQ1RCxDQUFILENBQVQsQyx5QkFHQUMsTUFBTSxDQUFDQyxPQUFQLENBQWlCTixHQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGh0dHAgPSByZXF1aXJlKCdodHRwJyk7XG5jb25zdCBERUZBVUxUX1VTRVIgPSB7IHVzZXJuYW1lOiAnSHVnb0xhY2VyZGEnLCBwYXNzd29yZDogJzEyMycgfTtcbmNvbnN0IHJvdXRlcyA9IHtcbiAgICBkZWZhdWx0OiAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmVzcG9uc2Uud3JpdGUoJ0hlbGxvIFdvcmxkIVxcbicpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZW5kKCk7XG4gICAgfSxcbiAgICAnL2NvbnRhY3Q6Z2V0JzogKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHJlc3BvbnNlLndyaXRlKCdDb250YWN0IHVzIHBhZ2VcXG4nKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmVuZCgpO1xuICAgIH0sXG4gICAgJy9sb2dpbjpwb3N0JzogYXN5bmMgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIGZvciBhd2FpdChjb25zdCBkYXRhIG9mIHJlcXVlc3QpIHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgICAgICAgaWYodXNlci51c2VybmFtZSAhPT0gREVGQVVMVF9VU0VSLnVzZXJuYW1lIHxcbiAgICAgICAgICAgICAgICB1c2VyLnBhc3N3b3JkICE9PSBERUZBVUxUX1VTRVIucGFzc3dvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2Uud3JpdGVIZWFkKDQwMSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLndyaXRlKCdMb2dnaW5nIGZhaWxlZCFcXG4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmVuZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc3BvbnNlLndyaXRlKCdMb2dpbiBoYXMgc3VjY2VlZGVkIVxcbicpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZW5kKCk7XG4gICAgfVxufVxuXG5jb25zdCBoYW5kbGVyID0gZnVuY3Rpb24ocmVxdWVzdCwgcmVzcG9uc2UpIHtcbiAgICBjb25zdCB7IHVybCwgbWV0aG9kIH0gPSByZXF1ZXN0O1xuICAgIGNvbnN0IHJvdXRlS2V5ID0gYCR7dXJsfToke21ldGhvZC50b0xvd2VyQ2FzZSgpfWA7XG5cbiAgICBjb25zdCBjaG9zZW4gPSByb3V0ZXNbcm91dGVLZXldIHx8IHJvdXRlcy5kZWZhdWx0O1xuXG4gICAgcmVzcG9uc2Uud3JpdGVIZWFkKDIwMCwge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ3RleHQvaHRtbCdcbiAgICB9KVxuICAgIHJldHVybiBjaG9zZW4ocmVxdWVzdCwgcmVzcG9uc2UpO1xufVxuXG5jb25zdCBhcHAgPSBodHRwLmNyZWF0ZVNlcnZlcihoYW5kbGVyKVxuICAgICAgICAgICAgICAgIC5saXN0ZW4oMzAwMCwgKCkgPT4gY29uc29sZS5sb2coJ0FwcCBydW5uaW5nIGF0ICcsIDMwMDApKTtcblxubW9kdWxlLmV4cG9ydHMgPSBhcHA7Il19